<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>회원정보 수정</title>
</head>
<body>
    <h1>회원정보 수정</h1>
    
    <!-- 수정 완료 메시지 -->
    <div th:if="${param.message}">
        <p th:text="'수정 완료: ' + ${param.message}"></p>
    </div>

    <!-- 회원정보 수정 폼 -->
    <form action="/user/update" method="post">

        <label>현재 ID: 
            <input type="text" name="name" th:value="${user.name}" readonly>
        </label><br>

        <label>현재 비밀번호: 
            <input type="password" name="password1" placeholder="현재 비밀번호" required>
        </label><br>

        <label>새로운 비밀번호: 
            <input type="password" name="password2" placeholder="새로운 비밀번호">
        </label><br>

        <label>이름: 
            <input type="text" name="name" th:value="${user.socialName}">
        </label><br>

        <label>이메일: 
            <input type="email" name="email" th:value="${user.email}">
        </label><br>

        <label>전화번호: 
            <input type="text" name="phoneNumber" th:value="${user.phoneNumber}">
        </label><br>

        <label>역할: 
            <input type="text" name="role" th:value="${user.roles[0]}" readonly>
        </label><br>

        <label>생년월일: 
            <input type="text" name="birthDate" th:value="${user.birthDate}" readonly>
        </label><br>

        <button type="submit">수정하기</button>
    </form>

    <!-- 회원탈퇴 폼 -->
    <h2>회원탈퇴</h2>
    <form action="/user/delete" method="post">
        <label>현재 비밀번호: 
            <input type="password" name="password" placeholder="현재 비밀번호" required>
        </label><br>
        <button type="submit">회원탈퇴</button>
    </form>

    <!-- 홈으로 이동 -->
    <a th:href="@{/home}">홈으로</a>
</body>
</html>
